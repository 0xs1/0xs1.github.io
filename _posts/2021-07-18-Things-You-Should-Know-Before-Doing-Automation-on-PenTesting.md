![poster](https://user-images.githubusercontent.com/106372696/171092077-01aa2ac8-c9ed-4cf7-befc-ad681b00cc5e.png)


Hi Everyone,
	
   In this blog discuss about things we do and don't during the Pentesting or Bughunting. We know many people likes automate our task to save our time, ofcourse it's a good thing but at the same people are new to automation they usually do some mistakes. Here is the scenario, friend of mine once testing his target he get blocked every five minutes after he send some request to the application. 
	But he don't know why he get blocked for some reason and finally find the reason behind the blocked. He was using **Nuclei** runnning on the background.(For who don't know Nuclei?, It's an opensource tool for detecting vulnerablities on the website based on a template we provide.) He throws all templates to the website without knowing the application and how it actually works.
	
#### Behind the Scene..
Let's see what happen if we can do the exact thing that my friend does. In this example I'm going to choose **Tesla** as my target, they have bounty program on bugcrowd (https://www.bugcrowd.com/tesla) and Capture the traffic with Wireshark.

```bash

$ nuclei -u 'https://www.tesla.com' -t ~/nuclei-tempates/

```
![wireshark](https://user-images.githubusercontent.com/106372696/171092163-79ea5543-974f-4bf3-b55a-1f1b4590a553.png)



In the above screenshot you can see when we run nuclei with all the templates we have it sends the bunch of requests. This is the main reason we caught by the WAF and get blocked. So, always understand the target and how it actually works and finally gather the information about technolgy used in the Application.

#### Ways to avoid these kind of situation

There are some tricks to avoid WAF blocking, Let's find a way to avoid firewall blocking with different tools we use during the pentesting.

1. Nuclei
	- It's Better to use only necessary templates against the target instead of throwing all the templates.
	- Nuclei also have the timeout option that will helps to send the request within the set of intervals (eg: -timeout 100).
	- Better use your own Template. (Recommended)

2. Wfuzz or FFUF
		
   - These two are the most commonly used during the web app testing or bug hunting for fuzzing the target.
		If you are fan of FFUF and Wfuzz you can use -timeout option in fuff and --req-delay option in Wfuzz (both has default timeout 10s).
		Alternatively you can reduce the number of threads per request to avoid getting blocked.

3. Nmap
		
   - Nmap is the popular tool to scan the network. For the sack of speed we're using -T command for speed up the scan, In this case Many peoples recommended din't use -T5 instead use -T3 or -T4. The reason why you don't use -T5 it could crash the target host and alert the IDS. To avoid IDS better use -T0 or -T1, But If you're scanning the range of IP addresses then it will take a long time to complete the scan.

And finally Don't Spray and Pray for Bugs. Try to understand the Application then you'll find vulnerabilities in the target. 

#### Resourses:

[Projectdiscovery - Nuclei](https://github.com/projectdiscovery/nuclei)

[FFUF - # Fuzz Faster U Fool](https://github.com/ffuf/ffuf)

[Wfuzz - The Web Fuzzer](https://github.com/xmendez/wfuzz)

	Poster Credit : Kinsta.com


